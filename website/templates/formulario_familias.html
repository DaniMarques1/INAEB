{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    {% include 'includes/headers.html' %}
    <link rel="stylesheet" href="{% static 'css/daniel.css' %}" typer="css">
    <title>Formulário de Cadastro das Famílias</title>
</head>
<body>
{% include 'includes/nav.html' %}
<div class="main-container">

    <div class="left-column">
        <div class="left-column-content">
        <img src="{% static 'img/familia.png' %}" alt="Example" />
        <h3>Formulário de Cadastro das Famílias</h3>
        </div>
    </div>

    <div class="right-column family-form">
        <div class="form-container">
            {% if messages %}
            {% for message in messages %}
              <div class="msg {% if message.tags == 'success' %}sucesso{% elif message.tags == 'error' %}erro{% endif %}">
                {{ message }}
              </div>
            {% endfor %}
            {% endif %}

            <form method="post" novalidate>
            {% csrf_token %}
            <div class="h1-form">Formulário de Inscrição </div>
            {{ form.non_field_errors }}
            <div class="form-section">
                <div class="h2-form">Status da família</div>
                <div class="status-options">
                {% for radio in form.status_atendimento %}
                    <label class="radio-item">
                    {{ radio.tag }}
                    <span>{{ radio.choice_label }}</span>
                    </label>
                 {% endfor %}
                </div>
                <div class="form-grid status">
                    <div class="form-group">
                        <label for="inicio_atendimento">Início do Atendimento</label>
                        {{ form.inicio_atendimento }}
                    </div>
                    <div class="form-group">
                        <label for="termino_atendimento">Término do Atendimento</label>
                        {{ form.termino_atendimento }}
                    </div>
                </div>
            </div>

            <div class="h2-form"> Dados do Responsável </div>
            <div class="form-section">
            <div class="form-grid entrevista">
                <div class="form-group">
                    <label for="data_entrevista">Data da Entrevista</label>
                    {{ form.data_entrevista }}
                </div>
            </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label for="nome">Nome*</label>
                        {{ form.nome }}
                    </div>
                    <div class="form-group">
                        <label for="rg">RG*</label>
                        {{ form.rg }}
                    </div>
                    <div class="form-group">
                        <label for="cpf">CPF*</label>
                        {{ form.cpf }}
                    </div>
                    <div class="form-group">
                        <label for="data_nascimento">Data de Nascimento*</label>
                        {{ form.data_nascimento}}
                    </div>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label for="receita_apro">Receita aproximada</label>
                        {{ form.receita_apro }}
                    </div>
                    <div class="form-group">
                        <label for="despesa_apro">Despesa aproximada</label>
                        {{ form.despesa_apro }}
                    </div>
                    <div class="form-group">
                        <label for="obs_responsavel">OBS</label>
                        {{ form.obs_responsavel }}
                    </div>
                </div>

                {{ formset.management_form }}
                <div class="form-grid telefone">
                    {% for telefone_form in formset %}
                      {% for hidden in telefone_form.hidden_fields %}
                        {{ hidden }}
                      {% endfor %}
                
                      <div class="form-group">
                        <label for="{{ telefone_form.telefone.id_for_label }}">
                          Telefone {{ forloop.counter }}
                        </label>
                        {{ telefone_form.telefone }}
                        {% if telefone_form.telefone.errors %}
                          <div class="error">{{ telefone_form.telefone.errors }}</div>
                        {% endif %}
                      </div>
                    {% endfor %}
                </div>

                <div class="h2-form">Endereço</div class="h2-form">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="endereco">Endereço - Nº de Casa*</label>
                        {{ form.endereco }}
                    </div>
                    <div class="form-group">
                        <label for="bairro">Bairro*</label>
                        {{ form.bairro }}
                    </div>
                    <div class="form-group">
                        <label for="cidade">Cidade*</label>
                        {{ form.cidade }}
                    </div>
                    <div class="form-group">
                        <label for="cep">CEP*</label>
                        {{ form.cep }}
                    </div>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label for="ponto_referencia">Ponto de referência</label>
                        {{ form.ponto_referencia }}
                    </div>
                    <div class="form-group">
                        <label for="complemento">Complemento</label>
                        {{ form.complemento }}
                    </div>
                </div>
            </div>

            <div class="form-section">
                <div class="h2-form">Familiar 1</div>
                <div class="form-grid familiar-grid">
                    <div class="form-group"><label>Nome</label><input type="text"></div>
                    <div class="form-group"><label>Nascimento</label><input type="date"></div>
                    <div class="form-group"><label>Parentesco</label><input type="text"></div>
                    <div class="form-group"><label>Escolaridade/Instrução</label><input type="text"></div>
                    <div class="form-group"><label>Profissão</label><input type="text"></div>
                    <div class="form-group"><label>Idade</label><input type="text"></div>
                    <div class="form-group"><label>Ocupação</label><input type="text"></div>
                    <div class="form-group full-width"><button type="button" class="add-familiar">➕ Adicionar Familiar</button></div>
                </div>

            <div class="form-section">
                <div class="h2-form">Questionário Sócio Econômico</div>

                <div class="form-grid entrevista">
                    <div class="form-group">
                        <label for="data_visita">Data da Visita</label>
                        {{ form.data_visita }}
                    </div>
                </div>
                <div class="checkbox-title">Higiene do Ambiente</div>
                <div class="checkbox-section">
                    <div class="checkbox-options">
                        <label class="questionario-title">Lixo</label>
                        {% for radio in form.lixo %}
                        {% if radio.choice_label != "---------" %}
                            <label class="radio-item">
                            {{ radio.tag }}
                            <span>{{ radio.choice_label }}</span>
                            </label>
                        {% endif %}
                        {% endfor %}
                    </div>
                    <div class="checkbox-options">
                        <label class="questionario-title">Limpeza da Casa</label>
                        {% for radio in form.limpeza_casa %}
                        {% if radio.choice_label != "---------" %}
                            <label class="radio-item">
                            {{ radio.tag }}
                            <span>{{ radio.choice_label }}</span>
                            </label>
                        {% endif %}
                        {% endfor %}
                    </div>
                    <div class="long-text">
                        {{ form.obs_limpeza }}
                    </div>
                </div>
                
                <div class="checkbox-title">Saneamento Básico</div>
                <div class="checkbox-section">
                    <div class="checkbox-options">
                        <label class="questionario-title">Água</label>
                        {% for radio in form.agua %}
                        {% if radio.choice_label != "---------" %}
                            <label class="radio-item">
                            {{ radio.tag }}
                            <span>{{ radio.choice_label }}</span>
                            </label>
                        {% endif %}
                        {% endfor %}
                    </div>
                    <div class="checkbox-options">
                        <label class="questionario-title">Esgoto</label>
                        {% for radio in form.esgoto %}
                        {% if radio.choice_label != "---------" %}
                            <label class="radio-item">
                            {{ radio.tag }}
                            <span>{{ radio.choice_label }}</span>
                            </label>
                        {% endif %}
                        {% endfor %}
                    </div>
                
                    <div class="long-text">
                        {{ form.obs_saneamento }}
                    </div>
                </div>

                <div class="checkbox-title">Condições de Moradia</div>
                <div class="checkbox-section">
                    <div class="checkbox-options">
                    <label class="questionario-title">Moradia I</label>
                        {% for radio in form.tipo_moradia %}
                        {% if radio.choice_label != "---------" %}
                            <label class="radio-item">
                            {{ radio.tag }}
                            <span>{{ radio.choice_label }}</span>
                            </label>
                        {% endif %}
                        {% endfor %}
                    </div>
                    <div class="checkbox-options">
                    <label class="questionario-title">Moradia II</label>
                    <label>{{ form.num_comodo }} Numero de cômodos</label>
                    <label> {{ form.num_moradores }} Numero de moradores</label>
                        {% for radio in form.banheiro %}
                        {% if radio.choice_label != "---------" %}
                            <label class="radio-item">
                            {{ radio.tag }}
                            <span>{{ radio.choice_label }}</span>
                            </label>
                        {% endif %}
                        {% endfor %}
                    </div>
                    <div class="checkbox-options">
                        <label class="questionario-title">Material de Construção</label>
                        {% for radio in form.construcao %}
                        {% if radio.choice_label != "---------" %}
                            <label class="radio-item">
                            {{ radio.tag }}
                            <span>{{ radio.choice_label }}</span>
                            </label>
                        {% endif %}
                        {% endfor %}
                    </div>
                </div>

                <div class="checkbox-title">Diversos</div>
                    <div class="checkbox-options diversos">
                        <label><input type="checkbox" name="televisor" value="televisor"> Televisor</label>
                        <label><input type="checkbox" name="geladeira" value="geladeira"> Geladeira</label>
                        <label><input type="checkbox" name="celular_smartphone_tablet" value="celular_smartphone_tablet"> Celular/Smartphone/Tablet</label>
                        <label><input type="checkbox" name="aparelho_som" value="aparelho_som"> Aparelho de Som</label>
                        <label><input type="checkbox" name="maquina_lavar" value="maquina_lavar"> Maquina de Lavar</label>
                        <label><input type="checkbox" name="carro_moto" value="carro_moto"> Carro/Moto</label>
                        <label><input type="checkbox" name="dvd" value="dvd"> DVD </label>
                        <label><input type="checkbox" name="computador_notebook" value="computador_notebook"> Computador/Notebook</label>
                        <label><input type="checkbox" name="telefone_internet" value="telefone_internet"> Telefone/Internet</label>
                    </div>
                </div>

                <div class="form-group obs">
                    <label for="observacoes_gerais">Observações Gerais</label>
                    {{ form.obs_gerais }}
                </div>
                <div class="form-actions">
                    <button type="submit" class="submit-btn">Salvar Cadastro</button>
                </div>
            </form>
            </div>
        </div>
    </div>
</div>
</body>
</html>